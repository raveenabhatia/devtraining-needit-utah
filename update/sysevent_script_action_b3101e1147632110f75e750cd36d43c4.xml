<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sysevent_script_action">
    <sysevent_script_action action="INSERT_OR_UPDATE">
        <active>false</active>
        <condition_script/>
        <description/>
        <event_name>event.transfer</event_name>
        <name>Find Overdue NeedIt Tasks</name>
        <order>100</order>
        <script><![CDATA[// Get today's time and date
  var rightNow = new GlideDateTime();
  
  // Query the database for NeedIt Task records with Due date field values older
  // than the current time.  Only return NeedIt Task records that do not have
  // a State field value of Closed Complete.
  var overdueNITasks = new GlideRecord('x_58872_needit_needit_task');
  overdueNITasks.addQuery('due_date','<=',rightNow);
  overdueNITasks.addQuery('state','!=',3);
  
  overdueNITasks.query();
  // Write a log message for each overdue NeedIt Task Record
  while(overdueNITasks.next()){
    gs.info("Overdue NeedIt Task record = " + overdueNITasks.number);
  }]]></script>
        <synchronous>false</synchronous>
        <sys_class_name>sysevent_script_action</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-06-19 19:27:59</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>b3101e1147632110f75e750cd36d43c4</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Find Overdue NeedIt Tasks</sys_name>
        <sys_overrides/>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sysevent_script_action_b3101e1147632110f75e750cd36d43c4</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-06-19 19:28:37</sys_updated_on>
    </sysevent_script_action>
</record_update>
